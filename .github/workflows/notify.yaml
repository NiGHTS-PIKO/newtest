name: Notify Raspberry Pi

on:
  push:
    branches:
      - master

jobs:
  send-webhook:
    runs-on: [self-hosted, ARM64, Linux]
    env:
      REPO: ${{ github.repository }}
      AUTHOR: ${{ github.actor }}
    steps:
      - name: ðŸ“¡ Send webhook to Raspberry Pi
        run: |
          curl -X POST -H "Content-Type: application/json" \
               -d "{\"event\": \"push\", \"repo\": \"$REPO\", \"author\": \"$AUTHOR\"}" \
               http://100.101.30.82:8080/webhook